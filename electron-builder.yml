appId: com.spaces.desktop
productName: Spaces
copyright: Copyright Â© 2025

directories:
  output: dist-electron
  buildResources: build

files:
  - electron/dist/**/*
  - node_modules/node-pty/**/*
  - "!src"
  - "!bin"
  - "!.next"
  - "!.git"

asarUnpack:
  - node_modules/node-pty/**/*

extraResources:
  - from: .next/standalone
    to: standalone
    filter:
      - "**/*"
  - from: .next/static
    to: standalone/.next/static
    filter:
      - "**/*"
  - from: public
    to: standalone/public
    filter:
      - "**/*"

npmRebuild: true
buildDependenciesFromSource: true

mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  category: public.app-category.developer-tools
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  hardenedRuntime: true

linux:
  target:
    - AppImage
    - deb
  category: Development
  icon: build/icon.png

win:
  target:
    - nsis
  icon: build/icon.ico

nsis:
  oneClick: true
  perMachine: false
  allowToChangeInstallationDirectory: false
  deleteAppDataOnUninstall: false
  installerIcon: build/icon.ico
  uninstallerIcon: build/icon.ico
  include: build/installer.nsh
